[
    {
        "page": 1,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": "T"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 13.772299766540527,
                "color": 0,
                "text": "URBO"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": "RAG:"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": "A"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 13.772299766540527,
                "color": 0,
                "text": "CCELERATING"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": "R"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 13.772299766540527,
                "color": 0,
                "text": "ETRIEVAL"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": "-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": "A"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 13.772299766540527,
                "color": 0,
                "text": "UGMENTED"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": " G"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 13.772299766540527,
                "color": 0,
                "text": "ENERATION WITH"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": " P"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 13.772299766540527,
                "color": 0,
                "text": "RECOMPUTED"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": " KV"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": "C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 13.772299766540527,
                "color": 0,
                "text": "ACHES FOR"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": " C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 13.772299766540527,
                "color": 0,
                "text": "HUNKED"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 17.21540069580078,
                "color": 0,
                "text": " T"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 13.772299766540527,
                "color": 0,
                "text": "EXT"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Songshuo Lu"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Hua Wang"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Yutian Rong"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Zhi Chen"
            },
            {
                "font": "CMSY7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "\u2217"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Yaohua Tang"
            },
            {
                "font": "CMSY7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "\u2020"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Moore Threads AI"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "A"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.56410026550293,
                "color": 0,
                "text": "BSTRACT"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Current Retrieval-Augmented Generation ("
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "RAG"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ") systems concatenate and process"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "numerous retrieved document chunks for prefill which requires a large volume of"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "computation, therefore leading to significant latency in time-to-first-token ("
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TTFT"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ")."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "To reduce the computation overhead as well as TTFT, we introduce"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " TurboRAG"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", a"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "novel RAG system that redesigns the inference paradigm of the current RAG sys-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tem by first pre-computing and storing the key-value ("
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "KV"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ") caches of documents"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "offline, and then directly retrieving the saved KV cache for prefill. Hence, online"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "computation of KV caches is eliminated during inference. In addition, we pro-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "vide a number of insights into the mask matrix and positional embedding mech-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "anisms, plus fine-tune a pretrained language model to maintain model accuracy"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "of TurboRAG. Our approach is applicable to most existing large language models"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "and their applications without any requirement in modification of models and in-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "ference systems. Experimental results across a suite of RAG benchmarks demon-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "strate that TurboRAG reduces TTFT by up to 9.4x compared to the conventional"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "RAG systems (on an average of 8.6x), but reserving comparable performance to"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the standard RAG systems."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "1"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "I"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.56410026550293,
                "color": 0,
                "text": "NTRODUCTION"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Retrieval-augmented generation (RAG) systems have been emerged as a promising direction to al-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "leviate some challenges faced by large models (LMs), e.g., hallucinations (Mallen et al., 2023;"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Khandelwal et al., 2020; Izacard et al., 2022). As shown in Figure 1a that large-scale documents in"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "these systems are typically segmented into a myriad of short document chunks that can be embedded"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "for retrieval. Upon the arrival of a user-input query, the most relevant chunks are then retrieved and"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "prepended to the input as an augmented query fed to an LM for prefill, followed by decoding in an"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "autoregressive (AR) manner to generate responses. RAG system effectively utilizes factual docu-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "ments as supplementary data to enhance model\u2019s ability to generate more accurate and contextually"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "rich responses, hence widely adopted by various applications, such as question answering (Siriward-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "hana et al., 2023; Han et al., 2024) and content creation (Khattab et al., 2022), etc. However, existing"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "RAG systems come with several limitations from the system perspective."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "First, repeatedly recalled document chunks require recomputation of the key-value (KV) caches,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "leading to redundant computation. Second, the augmented document contains substantially more"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tokens for prefill which contributes to considerably more computational overhead since the compu-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tation cost of KV caches is quadratic to the input sequence length. It, hence, significantly increases"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TTFT, making RAG systems possibly unsuitable for applications that have stringent constraints on"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "response time. Third, as a side effect of the requirement in substantial computation resources for"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "concatenated document prefill, the batch size on a single device might be limited."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "The fundamental reason for these issues lies in prefill paradigm of the current RAG system, which"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "involves online computation of the concatenated long documents, i.e. it collects the most relevant"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "documents and then performs prefill for them together. A natural question arises:"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " can we alter this"
            },
            {
                "font": "CMSY6",
                "size": 5.97760009765625,
                "color": 0,
                "text": "\u2217"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 8.966400146484375,
                "color": 0,
                "text": "Corresponding author."
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 8.966400146484375,
                "color": 0,
                "text": " zhic@mthreads.com"
            },
            {
                "font": "CMSY6",
                "size": 5.97760009765625,
                "color": 0,
                "text": "\u2020"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 8.966400146484375,
                "color": 0,
                "text": "tangyaohua28@gmail.com"
            },
            {
                "font": "Times-Roman",
                "size": 20.0,
                "color": 9539985,
                "text": "arXiv:2410.07590v1  [cs.CV]  10 Oct 2024"
            }
        ]
    },
    {
        "page": 2,
        "fonts": [
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "paradigm to remarkably reduce the computation overhead of prefill?"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " If we were able to precompute"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the KV caches of the retrieved documents offline and let the prefill stage directly uses these saved KV"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "caches to rebuild the complete KV cache for a request online, a large body of online computation can"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "then be completely eliminated, thus significantly reducing system\u2019s TTFT and improving inference"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "efficiency. This essentially transforms the RAG\u2019s prefill stage into a hybrid paradigm combining"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "both offline and online processing. Compared to the conventional RAG system, the only issue is"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "that the transformation may result in inconsistent attention mask matrix and position IDs. Resolving"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "these inconsistencies would yield an efficient RAG solution."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "In this paper, we propose TurboRAG, which is grounded in two observations. First, as illustrated"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "in Figure 2a, cross-attention among different documents is exceedingly sparse in RAG models and"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the text contents between most documents are actually independent. Second, for relative position"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "embedding techniques, such as RoPE(Su et al., 2024), only the relative distance between two po-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "sitions matters. Consequently, the relative positional embeddings of a document are equivalent no"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "matter the KV cache is computed using the individual document or the entire concatenated docu-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "ments. Inspired from these observations, TurboRAG first pre-computes and stores the KV caches"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "for each document offline. It then injects the relevant KV caches of the retrieved documents into a"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "user request to construct the complete KV caches for prefill using the independent attention mask"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "matrix from the Figure 2c and the standard RoPE."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Compared to the conventional RAG system, experimental results across the LongBench multi-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "document QA benchmarks demonstrate that TurboRAG reduces TTFT by up to 9.4x and on an"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "average of 8.6x, with comparable accuracy to the baseline. Simultaneously, during online infer-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "ence, TurboRAG reduces computational resource utilization by"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " 98"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "."
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "46%"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " compared to standard RAG,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "which significantly increases the maximum supported batch size and enhances throughput. Addi-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tionally, regression experiments indicate that TurboRAG does not exhibit any significant degradation"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "in other general capabilities compared to standard RAG."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "In summary, we make three major"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " contributions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". First, we design a novel pipeline that decomposes"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the prefill stage of conventional RAG systems into offline and online phases to notably reduce the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "overhead of KV cache computation. Second, we propose simple yet effective techniques to handle"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "attention mask and position IDs so that model accuracy is maintained. Third, we achieve a substan-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tial improvement of 9.4x in TTFT over the state-of-the-art multi-document QA benchmarks without"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "compromising accuracy."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "RELATED WORK"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Retrieval-Augmented Generation (RAG) (Lewis et al., 2020) has achieved significant progress in"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "natural language processing by integrating large language models (LLMs) with external knowledge"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "databases. This integration enhances the ability of generative models to produce accurate, relevant,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "and context-rich responses. Recent studies (Borgeaud et al., 2022; Jiang et al., 2024; Trivedi et al.,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2022; Ram et al., 2023) have demonstrated that RAG significantly outperforms pure generative"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "models across various benchmarks, thereby gathering considerable amounts of research interests in"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "various domains such as question answering (Siriwardhana et al., 2023; Han et al., 2024), code gen-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "eration (Lu et al., 2022), and content creation (Khattab et al., 2022), etc. However, as a relative new"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "research topic, the current RAG systems still suffer from some drawbacks, among which low perfor-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "mance and long latency are the most prominent ones. Addressing these problems would effectively"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "make RAG more applicable to latency-sensitive LLM tasks."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "As illustrated in Figure 1a, the workflow of a naive RAG system comprises two steps: retrieval"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "and generation, combining offline preparation with online processing to enhance performance. In"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the offline phase, RAG utilizes embedding models such as BGE (Chen et al., 2024a)) and GTE (Li"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "et al., 2023) to convert external knowledge sources (e.g., document chunks) into high-dimensional"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "vectors, which are then indexed into a specialized vector database. Upon receiving a user request,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "RAG first accesses this vector database to perform a similarity search, retrieving documents that"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "best match the request based on semantic content. Subsequently, RAG integrates the content of"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "these retrieved documents with the original user request to form an augmented query, which is input"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "into the LLM to generate a more informative and contextually relevant response (Topsakal & Akinci,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2023)."
            }
        ]
    },
    {
        "page": 3,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 8.966400146484375,
                "color": 0,
                "text": "(a) Standard RAG"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 8.966400146484375,
                "color": 0,
                "text": "(b) TurboRAG"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Figure 1: Pipeline of Standard RAG and TurboRAG. TurboRAG pre-compute the KV cache for each"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "chunk of text and reuse during RAG inference."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Researchers have proposed various methods to optimize the performance of RAG systems. Some ap-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "proaches modify the attention computation mechanism to reduce computational complexity (Wang"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "et al., 2020; Choromanski et al., 2020; Monteiro et al., 2024). Others focus on compressing and"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "merging the KV cache, then dynamically utilizing cached KV states to optimize inference efficiency"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "and reduce the computational load of processing long sequences (Wang et al., 2024; Liu et al., 2024;"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Zhang et al., 2024). A few previous work concentrated on distributed deployment of large-scale"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "language models, mainly targeting large-scale distributed inference (Jin et al., 2024b)."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "However, existing methods primarily address general long-text generation. In RAG systems, since"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the retrieved document fragments are dynamic each time, directly concatenating precomputed KV"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "caches might notably drop model accuracy. Moreover, RAG systems still face challenges unique to"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "multi-document concatenation and redundant computation. For instance, Jin et al. (2024a) proposed"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "a multi-level caching system that effectively caches and reuses intermediate states of documents"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "retrieved based on different user queries. It reportedly reduces redundant computation, but this work"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "only focuses on the intermediate results and does not analyze model accuracy."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "To address the performance issues, we propose"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " TurboRAG"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", a novel RAG optimization scheme by"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "precomputing and storing the key-value (KV) caches of document fragments offline. During online"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "generation, the model directly utilizes these precomputed KV caches, avoiding redundant computa-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tion of the retrieved document fragments. To be best of our knowledge, this is the first work in the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "literature that attempts to redesign inference paradigm of the current RAG system by transforming"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the online computation of KV caches for the retrieved documents into offline processing. This ap-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "proach significantly reduces the computational complexity of the RAG systems and could become a"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "powerful enabler for LLM applications that have restricted latency constraints."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "M"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.56410026550293,
                "color": 0,
                "text": "ETHODOLOGY"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "This section presents TurboRAG, a novel approach to improve the performance of conventional"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "RAG systems without sacrificing accuracy. We formalize the problem in Section 3.1 and discuss"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the differences in the attention mask matrix and position IDs between TurboRAG and existing RAG"
            }
        ]
    },
    {
        "page": 4,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 8.966400146484375,
                "color": 0,
                "text": "(a) Casual Attention"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 8.966400146484375,
                "color": 0,
                "text": "(b)"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 8.966400146484375,
                "color": 0,
                "text": " Composite Positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 8.966400146484375,
                "color": 0,
                "text": "(c)"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 8.966400146484375,
                "color": 0,
                "text": " Reordered Positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Figure 2: The first row presents three distinct setting of attention mask matrices and position IDs. (a)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Lower triangular casual attention, where the entire context is attended to. (b)"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Independent Atten-"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tion"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Composite Positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", which use the original position IDs for each chunk. (c)"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Independent"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Attention"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Reordered Positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", where each document can only attend to itself and rearrange"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the position IDs for tokens in chunk to standard monotone increasing numbers. In the second and"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "third rows, we present an instance of RAG to visualize and analyze the distribution of the atten-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tion matrices under different settings, as well as the distribution of attention scores from the query"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "to the context chunks. This instance consists of four text chunks and a user query, as detailed in"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Appendix A. In the standard setting shown in the first column of second row, it can be observed"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "that the attention scores between different chunks are quite sparse; each document primarily fo-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "cuses on its internal information. Furthermore, in the third row, the distribution of attention scores"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "from the query to the context chunks indicates that even when the attention between documents is"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "fully masked, the distribution of attention scores from the query to the documents does not exhibit"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "significant variation, remaining concentrated in the documents that contain relevant information."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "systems in Section 3.2. Section 3.3 explains how we trained the model to adapt to the new attention"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "mask matrix and position IDs. We introduce the TurboRAG inference pipeline in Section 3.4."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "3.1"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "PROBLEM FORMALIZATION"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Conventionally, given a user query"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " q"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", we retrieve top"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " k"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " document chunks,"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " ["
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "c"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", . . . , c"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "k"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "]"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", and send"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "them to a LLM that sequentially generates the textual outputs. We denote the number of tokens"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "in"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " as len"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "("
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "x"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ")"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and we assume"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " len"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "("
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "c"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "i"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ") ="
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " l"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". In existing RAG, we first compute the prefill using"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and the concatenated"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " c"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", denoted as a concatenated context sequence"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " ["
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "c"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", . . . , c"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "k"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", q"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "]"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", to obtain the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "corresponding hidden states"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " X"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "c"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". At each decoding step"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", the model computes attention scores"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "based on"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " X"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "c"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". Let"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " X"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " = ["
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "X"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ","
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " X"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", . . . ,"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " X"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "t"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "]"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " be the hidden states of the tokens generated so far, where"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "X"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "t"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " is the hidden state for the current token being generated. The model computes the query"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Q"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "t"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", key"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "K"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "i"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", and value"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " V"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "i"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " matrices for context at position"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " i"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ":"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Q"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "t"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " ="
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " X"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "t"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "W"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "Q"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ","
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "K"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "i"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " ="
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " X"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "c"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "i"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " "
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "W"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "K"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ","
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "V"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "i"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " ="
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " X"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "c"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "i"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " "
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "W"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "V"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "(1)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Here,"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " W"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "Q"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ","
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " W"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "K"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", and"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " W"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "V"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " are the learned weight matrices. The attention score is computed using"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the dot product of the query and the key, scaled by the square root of the dimension of the key"
            }
        ]
    },
    {
        "page": 5,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "vectors"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " d"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ":"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Attention scores"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " ="
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " "
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Q"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "t"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "K"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "T"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "i"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u221a"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "d"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "(2)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "For RoPE, it is necessary to multiply"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Q"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "t"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " K"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "i"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " by their corresponding position embedding sepa-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "rately as shown in Equation 3:"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Q"
            },
            {
                "font": "CMSY5",
                "size": 4.981299877166748,
                "color": 0,
                "text": "\u2032"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "t"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " "
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "="
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8eb"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ed"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "0"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "..."
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "d"
            },
            {
                "font": "CMSY7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "d"
            },
            {
                "font": "CMSY7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f6"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f8"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2295"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8eb"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ed"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "cos"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "0"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "cos"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "0"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "cos"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "cos"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "..."
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "cos"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "d/"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            },
            {
                "font": "CMSY7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "cos"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "d/"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            },
            {
                "font": "CMSY7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f6"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f8"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "+"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8eb"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ed"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "0"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "3"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "..."
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "d"
            },
            {
                "font": "CMSY7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "q"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "d"
            },
            {
                "font": "CMSY7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f6"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f8"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2295"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8eb"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ec"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8ed"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "sin"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "0"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "sin"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "0"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "sin"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "sin"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "..."
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "sin"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "d/"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            },
            {
                "font": "CMSY7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "sin"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t\u03b8"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "d/"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            },
            {
                "font": "CMSY7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f6"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f7"
            },
            {
                "font": "CMEX10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\uf8f8"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "(3)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "where"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u03b8"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "m"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " = 10000"
            },
            {
                "font": "CMSY7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "m/d"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". A benefit of this equation is that the position embedding for"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Q"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "K"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " can be computed independently. Furthermore, the final result of the multiplication of the two"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "position embeddings is solely dependent on the positional difference between them. Since this is an"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "autoregressive model, we need to apply a causal mask to ensure that the model does not attend to"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "future tokens. This is typically achieved by multiplying with a lower triangular masking matrix:"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Attention scores"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " ="
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Attention scores"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u2217"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "M"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "(4)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "where"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " M"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " is the masking matrix."
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " K"
            },
            {
                "font": "CMSY5",
                "size": 4.981299877166748,
                "color": 0,
                "text": "\u2032"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " V"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " are generally referred to as"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " KV cache"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", which is stored"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "for the subsequent computation of attention scores in the later regressive decoding. The attention"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "scores are then normalized using the"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " softmax"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " function to obtain attention weights. Finally, the output"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "for the current token is computed as a weighted sum of the value vectors."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "3.2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "P"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "OSITION"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " ID R"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "EARRANGEMENT"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "This section presents the technique we developed to ensure that the concatenated KV cache com-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "puted offline for each document is as effective as the KV cache computed using the whole originally"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "retrieved documents. Figure 2 illustrates the differences in the attention mask matrix and position"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "IDs between the two methods."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "The online concatenation of the KV cache requires that there is no cross-attention between multiple"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "document chunks during inference, which is a significant distinction from the lower triangular mask"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "matrix employed by the current RAG system. We denote this new attention modality in Figure 2c as"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Independent Attention"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", which effectively simulates the scenario of retrieving the KV caches and"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "concatenating them. As illustrated in Figure 2c, cross-attention between documents are all set to"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "zero, and when decoding the answer, attention scores are computed among query, answer and all"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "documents."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Another issue arising from TurboRAG is the computation of position embeddings. The key cache"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "computed for each"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " c"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "i"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " are denoted as"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " K"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "c"
            },
            {
                "font": "CMMI5",
                "size": 4.981299877166748,
                "color": 0,
                "text": "i"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". If the KV caches are simply concatenated, all"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " K"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "c"
            },
            {
                "font": "CMMI5",
                "size": 4.981299877166748,
                "color": 0,
                "text": "i"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "will consist of position IDs ranging from 0 to"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " l"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". Consequently, the finally combined IDs will be"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "represented as"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " [0"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", . . . , l,"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " 0"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", . . . , l,"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " 0"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", . . . , l"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "]"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", which we refer to as"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " composite positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". This presents"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "a problem: when decoding at step"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", the positional difference between an element in"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " K"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "c"
            },
            {
                "font": "CMMI5",
                "size": 4.981299877166748,
                "color": 0,
                "text": "i"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " "
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "and"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " does"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "not correspond to the actual token index difference. For instance, the third element in"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " X"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "c"
            },
            {
                "font": "CMR5",
                "size": 4.981299877166748,
                "color": 0,
                "text": "2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " "
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "at this"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "point has a positional difference of"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", while the actual token index difference should be"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " t"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2212"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "("
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "l"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "+3)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "To resolve this issue, we rearrange the positions of all key cache to obtain"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " [0"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", . . . , l, l"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "+1"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", . . . ,"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " 2"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "l,"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " 2"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "l"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "+"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", . . . , k"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00b7"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "l"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "]"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". We refer to this new positions arrangement as"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " reordered positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". Equation 3 demon-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "strates that RoPE can effectively support"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " reordered positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "; it suffices to retain the"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " K"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " V"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "from Equation 1 when saving the KV cache. After concatenating KV caches, we can compute the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "key cache"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " K"
            },
            {
                "font": "CMSY5",
                "size": 4.981299877166748,
                "color": 0,
                "text": "\u2032"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " using Equation 3 with the new position IDs, which is quite straightforward. For"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Q"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ","
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "we can leverage Equation 3 to get"
            },
            {
                "font": "CMMIB10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Q"
            },
            {
                "font": "CMSY5",
                "size": 4.981299877166748,
                "color": 0,
                "text": "\u2032"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " using its position ID, which is the same as the standard RAG"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "system."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "However, the new attention mask matrix and position embedding could lead to a significant accuracy"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "drop in question-answering tasks. To mitigate this issue, we need to specifically train the model to"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "make the LLM be able to handle this new setting. To compare the effects of different positional"
            }
        ]
    },
    {
        "page": 6,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "indices, we will conduct experiments on both"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " reordered positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " composite positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " in"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Section 4. Next, we will introduce the training details."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "3.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "A"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "DAPTING"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " LLM"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "S FOR"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " P"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "RECOMPUTED"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "ACHE"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "ONCATENATION"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "In order to enable a pretrained LM to execute diverse instructions, it is a common practice to fine-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tune the LM using a pile of specifically created instruction learning data that encompasses various"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "instruction tasks. For example, we usually need specialized data to enhance the reading compre-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "hension capability used in a RAG model. Instruction learning data is generally constructed in the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "following format to train the model."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "You are an accurate and reliable AI assistant capable of answering questions by referencing"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "external documents. Please note that the external documents may not always be related to"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the question. The documents are as follows:"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "<|doc start|>"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "{"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "chunk 1"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "}"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "<|doc end|>"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "<|doc start|>"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "{"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "chunk 2"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "}"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "<|doc end|>"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "<|doc start|>"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "{"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "chunk 3"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "}"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "<|doc end|>"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "..."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "If the information in the documents contain the correct answer, you will provide an accurate"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "response. If the documents do not contain the answer, you will refuse to answer."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Question:"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " {"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "que"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "}"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Standard supervised fine-tuning (SFT) typically employs the attention mask matrix and position"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "embeddings shown in Figure 2a to fine-tune the LM using the data with the above format. However,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "to make sure that the pretrained LM can accommodate to new patterns exhibited in the mask matrix"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "and position embedding during inference, TurboRAG used the mask matrix and position embedding"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "in Figure 2b and Figure 2c to fine-tune the LM. After the fine-tuning, the LM would be able to see"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the same context KV cache produced from training while conducting inference. Therefore, it would"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "not experience the accuracy regression in question-answering tasks."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "3.4"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "T"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "HE"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " T"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "URBO"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "RAG P"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "IPELINE"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "With the fine-tuned LLM, the inference pipeline of TurboRAG is enumerated as follows (Figure 1b):"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Document Encoding (offline)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ": The documents are encoded into embedding vectors using a"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "transformer-based model like Bert(Devlin et al., 2019). These document embeddings are stored"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "in a vector index to facilitate efficient similarity search."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Document Prefill (offline)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ": Use an LLM to perform prefill offline. It computes the KV caches"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "for each document and saves them in the database."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "3."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Query Encoding"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ": The input query is encoded into a vector using the same Bert model."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Retrieval"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ": The encoded query is used to perform a similarity search in the vector database to"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "retrieve the most relevant documents."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "5."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Contextual KV cache Formation (online)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ": Retrieve the stored KV cache corresponding to the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "documents and concatenate them in the way demonstrated in Figure 2. The combined KV cache"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "forms a comprehensive context for the query."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "6."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " KV Cache Prefill (online)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ": The LLM processes prefill using the combined KV caches for the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "input query."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "7."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Response Generation (online)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ": After the prefill phase is accomplished, the LLM starts to gen-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "erate the response and return to the user."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "It is evident that the usage process of TurboRAG is fundamentally consistent with that of standard"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "RAG, making it highly convenient to use. The modified implementation code and model have been"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "made available at: https://github.com/MooreThreads/TurboRAG"
            }
        ]
    },
    {
        "page": 7,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "4"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "E"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.56410026550293,
                "color": 0,
                "text": "XPERIMENTS"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "This section evaluates performance and accuracy of a number of TurboRAG model variants against"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the conventional RAG models. Specifically, we seek to answer the questions below in this section:"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2022 How does TurboRAG perform on document question-answering (QA)?"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2022 What is the overall TTFT performance of TurboRAG compared against the N\u00a8aive RAG system on"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "popular benchmarks?"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2022 How large is the regression in the general capabilities of TurboRAG models?"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2022 How efficient is TurboRAG in scaling inference batch sizes?"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.1"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "E"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "XPERIMENT"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " S"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "ETUP"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "We selected gpt-4o-2024-08-06 as the baseline due to its excellence in many benchmark suites. For"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "brevity, we refer the conventional RAG system as \u201dNa\u00a8\u0131ve RAG\u201d. We also fine-tuned two models for"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG, namely TurboRAG-composite and TurboRAG-reordered corresponding to"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " composite"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " reordered positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", respectively. All three models are fine-tuned on a dataset com-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "posed of 50% document QA data and 50% general tasks (e.g., code, dialogue, reasoning). All data"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "are publicly accessible. For a detailed composition of the dataset, please refer to Appendix B."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Training Setup"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " We base our training on Qwen2-7B(Yang et al., 2024), performing SFT on the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "aforementioned dataset. The fine-tuning was conducted on 32 NVIDIA A100 80GB GPUs with a"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "batch size of 256 sequences, using a learning rate of 1e-5 and the AdamW optimizer(Loshchilov,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2017). Both Na\u00a8\u0131ve RAG and TurboRAG models were trained using the same data proportions to"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "ensure comparability."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "D"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "OCUMENT"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " QA A"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "CCURACY"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Let\u2019s first evaluate the accuracy of document QA via intensive study on RGB Benchmark(Chen et al.,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2024b), a bilingual benchmark designed to test a model\u2019s ability to answer questions on retrieved"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "documents. We followed the testing methodology provided by the official guidelines and let each"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "query extract five documents during the evaluation. In addition, we also measured the accuracy with"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "varying noise levels from 0.2 to 0.8 (e.g.,"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Noise Ratio"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " = 0.6 means 3 out of 5 retrieved documents"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "are irrelevant or noisy). In order reveal the effectiveness of fine-tuning, we gauged accuracy of each"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG configuration with and without fine-tuning."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "As shown in Table 1, without fine-tuning, the accuracy drops significantly. Particularly, as the task"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "difficulty increases (i.e., with a higher noise ratio), the accuracy can decline by nearly"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " 20%"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". This is"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "because the RAG models never learned the behavior of the new independent attention and composite"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "positions employed in inference. Nonetheless, simply fine-tuning the model with the small dataset"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "enables the TurboRAG models to attain impressive accuracy. Compared to the N\u00a8aive RAG, even"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "without fine-tuning,"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " independent attention"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": " reordered positions"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " only decrease the average ac-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "curacy by"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " 5"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "."
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "8%"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " (96.8 vs 91.0) and"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " 4"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "."
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2%"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " (96.8 vs 92.6). After fine-tuning, TurboRAG-reordered"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "and TurboRAG-composite can effectively maintain the benchmark accuracy gap within 1% com-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "pared to the Na\u00a8\u0131ve RAG. They also demonstrated comparable performance to GPT-4o across both"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Chinese and English datasets even under high-noise conditions. This highlights the effectiveness of"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the proposed modifications in preserving high accuracy when leveraging KV cache in document QA"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tasks."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "To validate that our method proposed techniques are also directly applicable to long text input cases,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "we inspected TurboRAG\u2019s accuracy on an additional long-text RAG benchmark dataset, Long-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Bench(Bai et al., 2023). As shown in Table 2, TurboRAG also exhibits comparable answer accuracy"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "to that of Na\u00a8\u0131ve RAG in such use scenarios."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "In all experiments, the performance of TurboRAG-composite was consistently inferior to that of"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG-reordered, particularly in more challenging contexts such as LongBench. This observa-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tion further validates the necessity of maintaining the accuracy of relative positional differences in"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "positional encoding."
            }
        ]
    },
    {
        "page": 8,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Table 1: Performance comparison of different models under various noise ratios in English and"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Chinese in RGB."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Chinese"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Model"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Noise Ratio"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "0.2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "0.4"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "0.6"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "0.8"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Avg."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "gpt-4o-2024-08-06"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.6"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "87.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "95.2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Na\u00a8\u0131ve RAG"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "99.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "87.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "95.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG-composite w/o fine-tuning"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "93.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "79.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "91.8"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG-reordered w/o fine-tuning"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "93.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "81.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "92.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG-composite"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "99.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "97.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "86.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "94.8"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG-reordered"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "97.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "90.7"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "95.7"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Model"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Noise Ratio"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "0.2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "0.4"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "0.6"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "0.8"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Avg."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "gpt-4o-2024-08-06"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "99.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "99.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Na\u00a8\u0131ve RAG"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "99.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "99.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "99.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "94.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG-composite w/o fine-tuning"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "91.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "75.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "90.2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG-reordered w/o fine-tuning"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "97.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "90.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "85.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "92.9"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG-composite"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "99.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "92.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG-reordered"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "99.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "98.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "93.7"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "96.8"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Table 2: Performance of Naive RAG and TurboRAG on LongBench multi-document QA (subcate-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "gories)."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Subcategory "
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Context"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Token"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Query"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Token"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Score"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TTFT (ms)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Na\u00a8\u0131ve"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Turbo"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "composite"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Turbo"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "reordered "
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Na\u00a8\u0131ve"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Turbo"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "reordered "
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Speedup"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "musique"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "16349"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "18.8"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "22.12"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "23.64"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "27.37"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1610"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "171"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "9.4x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2wikimqa"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "7553"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "17.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "35.02"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "34.28"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "39.51"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "709"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "101"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "7.0x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "dureader(zh)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "10642"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "6.0"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "34.57"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "33.37"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "33.03"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1007"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "116"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "8.7x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "hotpotqa"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "13453"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "20.1"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "40.21"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "35.78"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "45.28"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1333"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "147"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "9.1x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Avg."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "11999"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "15.5"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "32.99"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "31.76"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "36.29"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1165"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "134"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "8.6x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "G"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "ENERAL"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "APABILITY"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " R"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "EGRESSION"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "To ensure that the non-standard attention masks and position IDs usded in fine-tuning does not"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "negatively affect the models\u2019 general capabilities, we accomplished regression tests using the Open-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Compass"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "1"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " "
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "benchmark on various mainstream tasks. As summarized in Table 3, the modifications"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "had minimal impact on the base capabilities of the models. TurboRAG-reordered showed strong"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "generalization across tasks, with no significant performance degradation compared to Na\u00a8\u0131ve RAG."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Table 3: Regression experiments of Na\u00a8\u0131ve RAG and TurboRAG. Evaluated by OpenCompass."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Model"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "MMLU"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TriviaQA"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "GSM-8K"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "MATH"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Na\u00a8\u0131ve RAG"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "69.57"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "56.90"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "79.12"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "39.54"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TurboRAG-reordered"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "70.73"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "56.47"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "79.45"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "40.58"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "sub"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "+1.16"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "-0.43"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "+0.33"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "+1.04"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 5.97760009765625,
                "color": 0,
                "text": "1"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 8.966400146484375,
                "color": 0,
                "text": "https://github.com/open-compass/opencompass"
            }
        ]
    },
    {
        "page": 9,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.4"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TTFT P"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "ERFORMANCE"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Now we assess the impact of TurboRAG on inference speed. All models are evaluated on the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "LongBench dataset, with specific focus on its multi-document QA tasks. The experiments were"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "conducted on the Huggingface"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " transformers"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " "
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "using FlashAttention2(Dao, 2023) and an NVIDIA"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "A100 80GB GPU. As shown in Table 2, TurboRAG-reordered improves the performance of TTFT"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "by 8.6x on average, with a peak speedup of 9.4x, compared to Na\u00a8\u0131ve RAG for long-documents"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "processing. This reduction substantiates that TurboRAG can significantly reduce TTFT, thereby"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "enhancing user experience, and consequently enables the expansion of RAG applications to cases"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "with stringent latency requirement. The main reason of reduction in the TTFT is that the online"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "computation overhead of KV caches for long text is largely alleviated as TurboRAG shifts the KV"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "cache computation for each document to offline processing."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.5"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "B"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "ATCH"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " S"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 7.970099925994873,
                "color": 0,
                "text": "CALING"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Compared to Na\u00a8\u0131ve RAG, TurboRAG requires to transfer KV cache from CPU to GPU, which may"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "introduce extra communication overhead that degrades performance measured by TTFT. To evaluate"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the magnitude of the communication cost, we carried out experiments under a fixed total recall text"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "length of 8192 and a query length of 128. We gathered a series of TTFT numbers with batch"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "size ranging from 1 to 8 in two settings. One transferred the KV cache from CPU to GPU using"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "PCIE Gen4, while the other assumed that the KV cache was prefetched to the GPU memory thereby"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "excluding the impact of communication. Additionally, we measured the computational load for both"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Na\u00a8\u0131ve RAG and TurboRAG under different settings. The method for calculating computational load"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "is detailed in Appendix C."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Table 4: Generation throughput and latency on an A100 GPU."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Batch size"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Metric"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Naive"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Turbo"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Speedup"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Turbo"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "w/o h2d"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Speedup"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "w/o h2d"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TTFT (ms)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "711"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "175"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.1x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "44"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "16.1x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TFLOPs"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "136.36"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2.09"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2.09"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TTFT (ms)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1408"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "325"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.3x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "56"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "25.1x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TFLOPs"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "272.72"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.19"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.19"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TTFT (ms)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2842"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "666"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.3x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "97"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "29.3x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TFLOPs"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "545.46"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "8.39"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "8.39"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "6"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TTFT (ms)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4373"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "928"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.7x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "134"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "32.6x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TFLOPs"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "818.20"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "12.58"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "12.58"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "8"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TTFT (ms)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "5812"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1429"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4.1x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "177"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "32.8x"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TFLOPs"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1090.93"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "16.78"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "16.78"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "From Table 4, it is evident that as the batch size increases, the speedup ratio (decrease in TTFT) also"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "increases without any degradation in performance. When the batch size is small, the pressure on"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "computational resources is insufficient, resulting in a TTFT speedup value of only 16.1x between"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Na\u00a8\u0131ve RAG and TurboRAG. As the batch size increases, GPU becomes over-utilized for naive RAG,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "thus leading to substantially higher latency in TTFT compared to TurboRAG. Table 4 also illustrates"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "that, even in scenarios requiring the transfer of the KV cache from host to device (h2d), TurboRAG"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "still achieves a fourfold speed improvement compared to Na\u00a8\u0131ve RAG. In addition, we collected the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TFLOPs consumed by both the n\u00a8aive RAG and TurboRAG for each batch size, as shown in the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Metric column of Table 4. It can be seen that TurboRAG achieves astonishingly less TFLOPs, i.e."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "approximately"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " 98"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "."
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "46%"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " reduction compared to Na\u00a8\u0131ve RAG."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 5.97760009765625,
                "color": 0,
                "text": "2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 8.966400146484375,
                "color": 0,
                "text": "https://huggingface.co/"
            }
        ]
    },
    {
        "page": 10,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "5"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "CONCLUSION AND DISCUSSION"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "This paper presented a novel approach to training and utilizing RAG that significantly reduces the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "time required for prefill computations when concatenating retrieved text fragments. Other tech-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "niques such as KV cache compression are orthogonal to our method, hence can be directly used"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "to reduce latency and ease storage pressure. Our work raises a interesting question in whether"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "cross-attention between different fragments is truly necessary. If three individuals have a piece of"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "information, and I (Q) interact with each person (K) to obtain their information (V), and then in-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tegrate these three pieces into a complete response, would this be sufficient? The three individuals"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "might not need to communicate with each other. Furthermore, in the inference process for long"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "texts, many computation of cross-attention might also be redundant."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Another intriguing point is the role of positional embedding. In experiments that extend context"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "window of LLM via position interpolation, LLMs initially are pretrained with a short context length"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "and then continued training with a small amount of data using a longer context length. This enables"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the model to interpolate positions and learn two sets of position embeddings. In our work, we"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "also exposed the model to two different sets of positional embeddings, demonstrating LLM\u2019s strong"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "adaptability to various positional embeddings."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "R"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.56410026550293,
                "color": 0,
                "text": "EFERENCES"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Yushi Bai, Xin Lv, Jiajie Zhang, Hongchang Lyu, Jiankai Tang, Zhidian Huang, Zhengxiao Du,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Xiao Liu, Aohan Zeng, Lei Hou, et al. Longbench: A bilingual, multitask benchmark for long"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "context understanding."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:2308.14508"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2023."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Sebastian Borgeaud, Arthur Mensch, Jordan Hoffmann, Trevor Cai, Eliza Rutherford, Katie Milli-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "can, George Bm Van Den Driessche, Jean-Baptiste Lespiau, Bogdan Damoc, Aidan Clark, et al."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Improving language models by retrieving from trillions of tokens. In"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " International conference on"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "machine learning"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", pp. 2206\u20132240. PMLR, 2022."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Jianlv Chen, Shitao Xiao, Peitian Zhang, Kun Luo, Defu Lian, and Zheng Liu. Bge m3-embedding:"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Multi-lingual, multi-functionality, multi-granularity text embeddings through self-knowledge dis-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tillation."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:2402.03216"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2024a."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Jiawei Chen, Hongyu Lin, Xianpei Han, and Le Sun. Benchmarking large language models in"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "retrieval-augmented generation. In"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Proceedings of the AAAI Conference on Artificial Intelligence"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ","
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "volume 38, pp. 17754\u201317762, 2024b."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Krzysztof Choromanski, Valerii Likhosherstov, David Dohan, Xingyou Song, Andreea Gane, Tamas"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Sarlos, Peter Hawkins, Jared Davis, Afroz Mohiuddin, Lukasz Kaiser, et al. Rethinking attention"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "with performers."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:2009.14794"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2020."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Tri Dao. Flashattention-2: Faster attention with better parallelism and work partitioning."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "preprint arXiv:2307.08691"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2023."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova. Bert: Pre-training of deep"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "bidirectional transformers for language understanding, 2019. URL"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " https://arxiv.org/"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "abs/1810.04805"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Rujun Han, Yuhao Zhang, Peng Qi, Yumo Xu, Jenyuan Wang, Lan Liu, William Yang Wang, Bonan"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Min, and Vittorio Castelli. Rag-qa arena: Evaluating domain robustness for long-form retrieval"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "augmented question answering."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:2407.13998"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2024."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Gautier Izacard, Patrick Lewis, Maria Lomeli, Lucas Hosseini, Fabio Petroni, Timo Schick, Jane"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Dwivedi-Yu, Armand Joulin, Sebastian Riedel, and Edouard Grave. Atlas: Few-shot learning"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "with retrieval augmented language models, 2022. URL"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " https://arxiv.org/abs/2208."
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "03299"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Wenqi"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Jiang,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Shuai"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Zhang,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Boran"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Han,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Jie"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Wang,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Bernie"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Wang,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "and"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Tim"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Kraska."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Piperag: Fast retrieval-augmented generation via algorithm-system co-design."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "arXiv preprint"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "arXiv:2403.05676"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2024."
            }
        ]
    },
    {
        "page": 11,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Chao Jin, Zili Zhang, Xuanlin Jiang, Fangyue Liu, Xin Liu, Xuanzhe Liu, and Xin Jin."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Ragcache: Efficient knowledge caching for retrieval-augmented generation."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "arXiv preprint"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "arXiv:2404.12457"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2024a."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Yibo Jin, Tao Wang, Huimin Lin, Mingyang Song, Peiyang Li, Yipeng Ma, Yicheng Shan, Zhengfan"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Yuan, Cailong Li, Yajing Sun, et al. P/d-serve: Serving disaggregated large language model at"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "scale."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:2408.08147"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2024b."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Urvashi Khandelwal, Omer Levy, Dan Jurafsky, Luke Zettlemoyer, and Mike Lewis. Generalization"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "through memorization: Nearest neighbor language models, 2020."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "URL"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " https://arxiv."
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "org/abs/1911.00172"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Omar Khattab, Keshav Santhanam, Xiang Lisa Li, David Hall, Percy Liang, Christopher Potts,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "and Matei Zaharia. Demonstrate-search-predict: Composing retrieval and language models for"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "knowledge-intensive nlp."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:2212.14024"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2022."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Heinrich K\u00a8uttler, Mike Lewis, Wen-tau Yih, Tim Rockt\u00a8aschel, et al. Retrieval-augmented genera-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tion for knowledge-intensive nlp tasks."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Advances in Neural Information Processing Systems"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 33:"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "9459\u20139474, 2020."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Zehan Li, Xin Zhang, Yanzhao Zhang, Dingkun Long, Pengjun Xie, and Meishan Zhang. Towards"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "general text embeddings with multi-stage contrastive learning."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:2308.03281"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ","
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2023."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Yuhan Liu, Hanchen Li, Yihua Cheng, Siddhant Ray, Yuyang Huang, Qizheng Zhang, Kuntai Du,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Jiayi Yao, Shan Lu, Ganesh Ananthanarayanan, et al. Cachegen: Kv cache compression and"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "streaming for fast large language model serving. In"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Proceedings of the ACM SIGCOMM 2024"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Conference"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", pp. 38\u201356, 2024."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "I Loshchilov. Decoupled weight decay regularization."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:1711.05101"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2017."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Shuai Lu, Nan Duan, Hojae Han, Daya Guo, Seung-won Hwang, and Alexey Svyatkovskiy. Reacc:"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "A retrieval-augmented code completion framework."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:2203.07722"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2022."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Alex Mallen, Akari Asai, Victor Zhong, Rajarshi Das, Daniel Khashabi, and Hannaneh Hajishirzi."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "When not to trust language models: Investigating effectiveness of parametric and non-parametric"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "memories, 2023. URL"
            },
            {
                "font": "NimbusMonL-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " https://arxiv.org/abs/2212.10511"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Jo\u02dcao Monteiro, "
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u00b4"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Etienne Marcotte, Pierre-Andr\u00b4e No\u00a8el, Valentina Zantedeschi, David V\u00b4azquez, Nico-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "las Chapados, Christopher Pal, and Perouz Taslakian. Xc-cache: Cross-attending to cached con-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "text for efficient llm inference."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:2404.15420"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2024."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Ori Ram, Yoav Levine, Itay Dalmedigos, Dor Muhlgay, Amnon Shashua, Kevin Leyton-Brown, and"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Yoav Shoham. In-context retrieval-augmented language models."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Transactions of the Association"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "for Computational Linguistics"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 11:1316\u20131331, 2023."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Shamane Siriwardhana, Rivindu Weerasekera, Elliott Wen, Tharindu Kaluarachchi, Rajib Rana, and"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Suranga Nanayakkara. Improving the domain adaptation of retrieval augmented generation (rag)"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "models for open domain question answering."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Transactions of the Association for Computational"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Linguistics"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 11:1\u201317, 2023."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Jianlin Su, Murtadha Ahmed, Yu Lu, Shengfeng Pan, Wen Bo, and Yunfeng Liu. Roformer: En-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "hanced transformer with rotary position embedding."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Neurocomputing"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 568:127063, 2024."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Oguzhan Topsakal and Tahir Cetin Akinci. Creating large language model applications utilizing"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "langchain: A primer on developing llm apps fast. In"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " International Conference on Applied Engi-"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "neering and Natural Sciences"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", volume 1, pp. 1050\u20131056, 2023."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Harsh Trivedi, Niranjan Balasubramanian, Tushar Khot, and Ashish Sabharwal. Interleaving re-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "trieval with chain-of-thought reasoning for knowledge-intensive multi-step questions."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "arXiv"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "preprint arXiv:2212.10509"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2022."
            }
        ]
    },
    {
        "page": 12,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Sinong Wang, Belinda Z Li, Madian Khabsa, Han Fang, and Hao Ma. Linformer: Self-attention"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "with linear complexity."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:2006.04768"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2020."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Zheng Wang, Boxiao Jin, Zhongzhi Yu, and Minjia Zhang. Model tells you where to merge: Adap-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tive kv cache merging for llms on long-context tasks."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " arXiv preprint arXiv:2407.08454"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2024."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "An Yang, Baosong Yang, Binyuan Hui, Bo Zheng, Bowen Yu, Chang Zhou, Chengpeng Li,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Chengyuan Li, Dayiheng Liu, Fei Huang, et al."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Qwen2 technical report."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "arXiv preprint"
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": "arXiv:2407.10671"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", 2024."
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Zhenyu Zhang, Ying Sheng, Tianyi Zhou, Tianlong Chen, Lianmin Zheng, Ruisi Cai, Zhao Song,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Yuandong Tian, Christopher R\u00b4e, Clark Barrett, et al. H2o: Heavy-hitter oracle for efficient gen-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "erative inference of large language models."
            },
            {
                "font": "NimbusRomNo9L-ReguItal",
                "size": 9.962599754333496,
                "color": 0,
                "text": " Advances in Neural Information Processing Systems"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ","
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "36, 2024."
            }
        ]
    },
    {
        "page": 13,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "A"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "D"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.56410026550293,
                "color": 0,
                "text": "OCUMENT"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": " Q&A E"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.56410026550293,
                "color": 0,
                "text": "XAMPLE"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Query"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "When is the premiere of \u2019Carole King & James Taylor: Just Call Out My"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Name\u2019?"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Document 1"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Duke capped off a remarkable season by beating UCF 30-13 on Wednesday"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "in the Military Bowl \u2014 the program\u2019s first bowl win since 2018. With the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "win, Duke got to nine wins for the first time since 2014. Mike Elko has done"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "one of the best coaching jobs in the country in his first season with the Blue"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Devils. The program was barely competitive in David Cutcliffe\u2019s final seasons"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "on the job, going a combined 5-18 (1-17 ACC) in his final two years. With"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Wednesday\u2019s win, Duke finished the season 9-4 overall with a 5-3 mark in ACC"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "play. It was just the third season in school history that the Blue Devils had"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "finished with a winning conference record and won a bowl game. Washington:"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "After going 4-8 in 2021, Washington capped off a tremendous turnaround by"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "beating Texas 27-20 in the Alamo Bowl. With the win, Washington finished the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "season with 11 wins \u2014 the most it has had in a season since 2016. That\u2019s the"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "year the Huskies reached the College Football Playoff..."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Document 2"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Personal Preference Personal Preference is a 1987 board game created by Donal"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Carlston that involves guessing the order in which a player prefers foods, activi-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "ties, people, and other items compared to one another. The game was published"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "by Broderbund in the United States, Playtoy Industries in Canada, and Parker"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Brothers International in Britain. An updated version by the original creator"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "was launched on Kickstarter on May 1, 2023. The new version contains up-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "dated cultural references and new categories. Original 1987 Version The game"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "contains cards in four categories: Food & Drink, Activities, People, and Pot-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "pourri (miscellaneous). Each card has a photo or drawing on each side and text"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "indicating what that side represents (e.g., chocolate \u00b4eclairs, climbing a moun-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "tain, Harrison Ford, spy novels). Each round, one player draws four cards from"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "one category, or one from each category, depending on the player\u2019s position on"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the board. Each card is placed in a colored quadrant of the board..."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Document 3"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "However, the concert tour took place in honor of the 40th anniversary. The two"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "might have aged since they first performed together but neither Carole King"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "nor James Taylor have lost a beat in all these years!The concert film includes"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the following songs:(You Make Me Feel Like) A Natural WomanSomething"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "in the Way She MovesSo Far AwayCarolina in My MindCountry RoadSmack-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "water JackWhere You Lead (lyrics changed up as the city they\u2019re playing in"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "replaces New York)Your Smiling FaceBeautifulShower The PeopleWay Over"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "YonderSweet Baby James (this kicks off the second half of the film)Up on"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "the RoofIt\u2019s Too LateFire and RainI Feel the Earth MoveYou\u2019ve Got a Friend-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "How Sweet It Is (To Be Loved by You)You Can Close Your EyesMexico (end"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "credits)DIRECTOR: Frank MarshallFEATURING: Carole King, James Tay-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "lor, Danny Kortchmar, Peter Asher, Russ Kunkel, Leland SklarADDITIONAL"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "MUSICIANS: Andrea Zonn, Arnold McCuller, Kate Markowitz, Robbie Kon-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "dorCarole King & James Taylor: Just Call Out My Name premiered January"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2, 2022, at 9:00pm ET/PT on CNN. The film will be available on demand via"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "cable/satellite systems, CNNgo platforms, and CNN mobile apps, beginning"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Monday, January 3, through Sunday, January 16."
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Document 4"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "I was also raised to see the correlation between life and the game of football"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "and how the process of preparation leads to success in both.\u201d Jason earned a"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "bachelors in history, government and philosophy at Adams State in 2005, and"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "a masters in criminal justice administration from the University of Phoenix in"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2007. He added a second master\u2019s in educational methods from the University"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "of Tulsa in 2012. He was a defensive coordinator at the University of Montana,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "a co-defensive coordinator at Adams State, a defensive coordinator at Valdosta"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "State and the Colorado School of Mines, a defensive advisor at Temple Univer-"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "sity, served as a defensive assistant at Oklahoma State for two years \u2014 after a"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "two-season stay with fellow FBS program Tulsa as outside linebackers coach..."
            }
        ]
    },
    {
        "page": 14,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "B"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "D"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.56410026550293,
                "color": 0,
                "text": "ATA PROPORTIONS"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Table 5: Sampling Ratios of Different Data Types during Model Fine-tuning"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Data Type"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Sampling Ratio"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Document Q&A"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "50%"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "General Dialogue"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "25%"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Reasoning"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "10%"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Code"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "10%"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Others"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "5%"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Table 6: Specific Data and Quantities of Document Q&A"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Data Name"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Language"
            },
            {
                "font": "NimbusRomNo9L-Medi",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Quantity"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "glave-rag-v1"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "51,153"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "CovidQA"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1,519"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "E-Manual"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1,186"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "PubMedQA"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "22,050"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "MS Marco"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2,267"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "FinQA"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "14,268"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "ExpertQA"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1,824"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "HotpotQA"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "17,796"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TechQA"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1,496"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "HAGRID"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "3,214"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "DelusionQA"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "1,642"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "BioASQ"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4,619"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "CUAD"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "2,040"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "TAT-QA"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "English"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "29,766"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "BaiduSTI"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Chinese"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "4,032"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "DuReader"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Chinese"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "10,000"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "BaiduBaike"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Chinese"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "13,615"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Wiki"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Chinese"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "9,265"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": "C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.56410026550293,
                "color": 0,
                "text": "OMPUTATIONAL"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": " L"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.56410026550293,
                "color": 0,
                "text": "OAD"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 11.9552001953125,
                "color": 0,
                "text": " C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.56410026550293,
                "color": 0,
                "text": "ALCULATION"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Here, we present the method for calculating FLOPS, while omitting the computation of lm head due"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "to its relatively small proportion. Let the number of input tokens be denoted as"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " n"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "input"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " and the context"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "length as"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " n"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "context"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ". For a LLM utilizing the Swiglu activation function, the relevant parameters include"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "layer num, head num, kv head num, head size, hidden size, and intermediate size. For each token:"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2022 The computational cost of the QKV transformation for each layer, denoted as"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "qkv"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", is given"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "by:"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "qkv"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " = 2"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " hidden size"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " ("
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "head num"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " + 2"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " kv head num"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ")"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " head size"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2022 The computational cost of the attention mechanism for each layer, denoted as"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "attn"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", is"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "expressed as:"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "attn"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " = 2"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " head num"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " head size"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " n"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "context"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2022 The computational cost of the projection following the attention mechanism for each layer,"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "denoted as"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " C"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "o"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ", is given by:"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "C"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "o"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " = 2"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " hidden size"
            },
            {
                "font": "CMR7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "2"
            }
        ]
    },
    {
        "page": 15,
        "fonts": [
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "\u2022 The computational cost of the multilayer perceptron (MLP) for each layer, denoted as"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "mlp"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": ","
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "can be represented as:"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "mlp"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " = 2"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " 3"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " hidden size"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " intermediate size"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "Therefore, the total computational cost can thus be expressed as:"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": "FLOPS"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " ="
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " n"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "input"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 9.962599754333496,
                "color": 0,
                "text": " layer num"
            },
            {
                "font": "CMSY10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " \u00d7"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " ("
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": "C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "qkv"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " +"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "attn"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " +"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " C"
            },
            {
                "font": "CMMI7",
                "size": 6.973800182342529,
                "color": 0,
                "text": "o"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " +"
            },
            {
                "font": "CMMI10",
                "size": 9.962599754333496,
                "color": 0,
                "text": " C"
            },
            {
                "font": "NimbusRomNo9L-Regu",
                "size": 6.973800182342529,
                "color": 0,
                "text": "mlp"
            },
            {
                "font": "CMR10",
                "size": 9.962599754333496,
                "color": 0,
                "text": ")"
            }
        ]
    }
]